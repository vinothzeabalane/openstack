[Database service]

1=mysql -u root -pSET_PASSWORD -e "CREATE DATABASE trove";
2=mysql -u root -pSET_PASSWORD -e "GRANT ALL PRIVILEGES ON trove.* TO 'trove'@'localhost' IDENTIFIED BY 'SET_PASSWORD'";
3=mysql -u root -pSET_PASSWORD -e "GRANT ALL PRIVILEGES ON trove.* TO 'trove'@'%' IDENTIFIED BY 'SET_PASSWORD'";
a=admin
4=openstack user create --domain default --password SET_PASSWORD trove
5=openstack role add --project service --user trove admin
6=openstack service create --name trove --description "Database" database
7=openstack endpoint create --region RegionOne database public http://controller:8779/v1.0/%\(tenant_id\)s
8=openstack endpoint create --region RegionOne database internal http://controller:8779/v1.0/%\(tenant_id\)s
9=openstack endpoint create --region RegionOne database admin http://controller:8779/v1.0/%\(tenant_id\)s
10=yum install openstack-trove python-troveclient openstack-trove-guestagent -y
trove.ini = /etc/trove/trove.conf
trove_taskmanager.ini = /etc/trove/trove-taskmanager.conf
trove_conductor.ini = /etc/trove/trove-conductor.conf
trove_guestagent.ini = /etc/trove/trove-guestagent.conf
11=su -s /bin/sh -c "trove-manage db_sync" trove
12=systemctl enable openstack-trove-api.service openstack-trove-taskmanager.service openstack-trove-conductor.service
13=systemctl start openstack-trove-api.service openstack-trove-taskmanager.service openstack-trove-conductor.service
14=systemctl status openstack-trove-api.service openstack-trove-taskmanager.service openstack-trove-conductor.service
15=pip install trove-dashboard
16=unalias cp
17=unset -f cp
18=cp -vrf /usr/lib/python2.7/site-packages/trove_dashboard/enabled/*  /usr/share/openstack-dashboard/openstack_dashboard/local/enabled/
19=systemctl restart httpd.service memcached.service